# Meeting Transcriber - Docker Compose
# ONE container instead of NINE!

services:
  transcriber:
    build: .
    ports:
      - "8000:8000"
    volumes:
      - ./results:/app/results      # Persist transcription results
      - ./models:/app/models        # Cache Whisper models
    environment:
      - HF_TOKEN=${HF_TOKEN:-}      # Optional: for speaker diarization
      - DEFAULT_MODEL=base
      - DEVICE=cpu                   # Use 'cuda' for GPU
    restart: unless-stopped
